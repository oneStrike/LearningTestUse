# 设计模式

在 js 中有许多的设计模式,采用的都是一些比较先进的编程思想,合理的运用设计模式,可以让代码更加的高效整洁,最大限度的按照**高内聚-低耦合**的方式编写代码

## 单例模式

编程思想:

> 将所有的代码放入一个立即执行函数中,所有的代码都书写在立即执行函数中,如果希望外部可以使用立即执行函数中的一些功能时,可以通过`return`出一个对象,将需要暴露出的功能放入对象中一起暴露在外部,外部可以通过变量接收,这样可以减少污染全局变量

```javascript
let test = (function() {
  //=>书写代码
  return {
    init: function() {
      //=>需要暴露的功能
    }
    //=>按照对象的书写方式将暴露的功能统一书写
  };
})();

test.init();
/**
 * 可以在外部直接调用,把需要暴露的功能全部当做return
 * 出的这个对象的属性,在外部直接通过对象就可以调用相应的功能
 */
```

---

## 工厂模式

编程思想:

> 将一些通用的属性或者方法统一书写成为一个构造函数,之后通过`new`创造构造函数的一个实例,这样所有的实例都会拥有构造函数的属性和方法

```javascript
function Person(name, age, sex) {
  this.name = name;
  this.age = age;
  this.sex = sex;
  this.test = function() {
    //=>公共的函数,每一个实例都会拥有
  };
}

let person = new Person("凌", 18, "女");
let person = new Person("钉宫", 20, "女");
/**
 * 工厂模式就是批量的创建一些拥有想用的属相或方法的对象
 * 属性值可以通过传参的形式设置,当一个属性或者方法需要当做
 * 公共的属性或者方法时,需要使用this,因为构造函数中的this
 * 是通过构造函数new出来的实例,所有与this关联的属性或者方法
 * 都会成为实例的私有属性或方法,同一个构造函数构建的实例都是
 * 完全独立,互不相等的,因为他们使用的都是不同的内存空间
 */
```

---

## 自定义属性

编程思想:

> 在开发中,有时候会需要给标签上添加一些自定义属性用来存储数据或状态设置了自定义属性的标签, 就是在标签上加上了这个属性,浏览器中的 html 结构中可以看到因为 DOM 对象并不能直接使用点语法获取到这些自定义属性的值

有两种方法可以设置和获取到文档中的自定义属性

1. `dataset` 新规范，存在兼容性问题
2. `getAttribute` 相对于麻烦一些，兼容性良好

```javascript
//=>设置自定以属性有两种方式，
//=>1.直接书写在html标签中
//=>2.在js中创建标签是直接添加
//=>3. 使用setAttribute()

//=>dataset  直接书写data后面的属性名即可
获取语法: 对象名.dataset.自定义属性名;
设置语法: 对象名.dataset.自定义属性名 = 值;

//=>getAttribute和setAttribute  都需要书写data-
获取语法: 对象名.getAttribute("data-自定义属性名");
设置语法: 对象名.setAttribute("data-自定义属性名", 值);
```

## 发布订阅/观察者

编程思想:

>

## 性能优化

