#

## 表达式(expressions)

表达式是由操作符，操作数，变量等一些列的组合。表达式会返回一个值，叫做**返回值**。表达式可以放在任何需要数据的地方

## 语句（statements）

语句则是由“;（分号）”分隔的句子或命令。如果在表达式后面加上一个“；”分隔符，这就被称为“表达式语句”。它表明“只有表达式，而没有其他语法元素的语句。

一般的 javascript 中的语句分为下面几种：

1. 声明语句：变量声明和函数声明
2. 赋值语句：把值或者表达式计算的值赋值给变量
3. 控制语句：能改变语句的执行顺序，包括条件语句和循环语句，当然还有比较特殊的标签语句。
4. 表达式语句：这些语句去掉最后分号，都也可当表达式用的。常见的有：对象操作（new、delete）、函数调用（函数执行，必有返回值）等。

## 操作符（Operator）和 操作数（Operand）

操作符：运算符，参与运算的符号

操作数：参与运算的数据，也称之为“元”

操作符不一定只有一个符号

操作符出现在不同的位置，可能具有不同的含义

```javascript
1 - 2;
//=>数学运算

-1.2;
//=>将一个数组变成负数

(1 + 2) * 3;
//=>():先计算()内的1+2；然后再*3

function test() {
  //...代码
}
test();
//=>():调用函数
```

## 分类

按操作数数量区分：

1. 一元（目）运算符：() . []
2. 二元（目）运算符: + - / \* % =
3. 三元（目）运算符: ?:

功能区分：

1. 算术运算符（数学）
2. 比较运算符
3. 逻辑运算符
4. 位运算符
5. 其他

## 数学运算符

数学运算符

1. `+ - * /`算数运算
2. `+ -`正负数
3. `%`求余
4. `++ --`自增自减
5. `**` 幂

### 细节

js 中的数学计算是不准确的，我们在开发中应该着重注意

```javascript
0.1+0.2=0.30000000000000004

0.14*100=14.000000000000002

```

【 **%（求余）** 】

`%`指的是一个数除以另一个数，不够除的部分就是余数

```javascript
9 % 4 = 1;
8 % 3 = 2;
2 % 2 = 0;
//=>如果可以除尽，那么余数就为0
2 % 3 = 2;
//=>被除数大于除数的话，结果是除数
```

【 **++/--** 】

- `++`和`--`的语法规范基本上是一样的，因此我们只拿`++`进行讲解

++代表的是在自身的基础上自增 1，分为前自增和后自增，我们在实际中应该着重注意前自增和后自增的区别

- 前自增是指++在前，他会使原有的值立即自增加 1。

```javascript
var b = 21;
console.log(++b);
//=>22;
//=>前自增表达式的值是自增之后的值
```

- 后自增是指++在后，他会在运算结束之后自增 1

```javascript
var a = 12;
console.log(a++);
//=>12
//=>后自增表达式的值是自增之前的值，在表达式运算完毕之后才会自增1
```

【 **以下规范不适用于（ + ）运算符** 】

在算数运算过程中会调用`Number()`方法将非数字类型转换为数字类型,然后在进行运算。

> NaN 虽然是数字，但它和任何数字作任何运算，得到的结果都是 NaN

- null：null -> 0

- undefined: undefined -> NaN

将对象类型先转换为字符串类型，然后再将该字符串转换为数字类型

对象类型 -> "[object Object]" -> NaN

【 **加号运算符** 】

当我们进行加法运算的时候只要有一边是字符串类型的时候，就不再是简单的数学运算了，而是会变成字符串拼接

```javascript
10 + true;
//=>11 正常的数学运算

10 + "10";
//=>'1010' 只要有一边是字符串类型的，就会变成字符串拼接
//=>无论字符串存储的是什么值

[12] + 10;
// =>'1210'
//=>虽然现在没看见字符串，但是引用类型转换为数字，首先会转换为字符串，
//=>所以变为了字符串拼接

({})+10
//=>"[object Object]10"

[]+10
//=>"10"

{}+10
//=>10
//=>这个和以上说的没有半毛钱关系，因为它根本就不是数学运算，也不是字符串拼接，它是两部分代码
//=>{} 代表一个代码块（块级作用域+10 才是我们的操作
//=>严格写法：{}; +10;

12+true+false+null+undefined+[]+'绫'+null+undefined+[]+true
```

将另一边的其他类型，转换为字符串

数字 -> 数字字符串
boolean -> boolean 字符串
null -> "null"
undefined -> "undefined"
对象 -> "[object Object]"

- 加号两边都没有字符串，但一边有对象，将对象转换为字符串，然后按照上面的规则进行
- 其他情况和上面的数学运算一致

### 优先级

从高到底依次是：

1. `++ --`
2. `* / %`
3. `+ -`

优先级的运算细节：

1. 从左到右依次查看
2. 如果遇到操作数，将数据的值直接取出
3. 如果遇到相邻的两个运算符，并且左边的运算符优先级大于等于右边的运算符，则直接运行左边的运算符。

# 比较运算符

大小比较：> < >= <=
相等比较：== != === !==

**比较运算符的返回类型：boolean**

**算术运算符的优先级高于比较运算符**

## 大小比较

### 细节

1. 两个字符串比较大小，比较的是字符串的字符编码。
2. 如果一个不是字符串，并且两个都是原始类型，将它们都转换为数字进行比较

'1' -> 1
'' -> 0
' ' -> 0
' a' -> NaN
'3.14' -> 3.14

NaN 与任何数字比较，得到的结果都是 false

Infinity 比任何数字都大

-Infinity 比任何数字都小

3. 如果其中一个是对象，将对象转换为原始类型然后，按照规则 1 或规则 2 进行比较

目前，对象转换为原始类型后，是字符串 "[object Object]"

## 相等比较

### == 和 != (相等比较 和 不相等比较)

==: 比较两个数据是否相等
!=: 比较两个数据是否不相等

**细节**

1. 两端的类型相同，直接比较两个数据本身是否相同（两个对象比较的地址）
2. 两端的类型不同

1). null 和 undefined， 它们之间相等， 和其他原始类型比较， 则不相等。
2). 其他原始类型，比较时先转换为数字，再进行比较
3). NaN 与任何数字比较，都是 false，包括自身
4). Infinity 和-Infinity，自能和自身相等
5). 对象比较时，要先转换为原始类型后，再进行比较

**由于相等和不相等比较，对于不同类型的数据比较违反直觉，因此，通常我们不适用这种比较方式，而是使用更加接近直觉的严格相等和严格不相等比较**

### === 和 !== （严格相等 和 严格不相等）

=== ： 两端的数据和类型必须相同
!== ： 两端的数据或类型不相同

1. 两端类型相同，规则和相等比较一致。
2. 两端类型不同，为 false。

数字规则：

1). NaN 与任何数字比较，都是 false，包括自身
2). Infinity 和-Infinity，自能和自身相等

# 逻辑运算符

布尔运算符

## 与（并且）

符号：&&

书写方式： 表达式 1 && 表达式 2

1. 将表达式 1 进行 boolean 判定

以下数据均判定为 false：

1. null
2. undefined
3. false
4. NaN
5. ''
6. 0

其他数据全部为真

2. 如果表达式 1 的判定结果为假，则直接返回表达式 1，而不执行表达式 2；否则，返回表达式 2 的结果。 （短路规则）

## 或

符号：||

写法：表达式 1 || 表达式 2

1. 将表达式 1 进行 boolean 判定
2. 如果表达式 1 为真，直接返回表达式 1，不运行表达式 2；否则，返回表达式 2

## 非

符号：!

写法: !数据

一元运算符

将数据的 boolean 判定结果直接取反，非运算符一定返回 boolean 类型。

## 作业

1. 用一个变量保存成绩，输出该成绩是否及格（true 或 false）
2. 用一个变量保存年份，得到该年份 2 月的天数
3. 利息计算器

设置变量，分别存放本金、月数、年利率，计算利息

如果本金存放量超过了 10 万，年利率上浮 20%（比如，年利率为 4%，上浮后的年利率 4% \* 1.2）

# 三目运算符

书写方式： 表达式 1 ? 表达式 2 : 表达式 3

1. 对表达式 1 进行 boolean 判定
2. 如果判定结果为真，返回表达式 2；否则，返回表达式 3。

# 补充知识

## 模板字符串

## 类型转换不会影响原本的数据

## 复合的赋值运算符

+= -= /= \*= %= \*\*=

## void 运算符

一元运算符

写法：

1. 普通写法： `void 表达式`
2. 函数写法： `void(表达式)`

运行表达式，然后返回 undefined

## typeof 运算符

一元运算符

写法：

1. 普通写法： `typeof 表达式`
2. 函数写法： `typeof(表达式)`

typeof 运算，返回表达式的类型，是一个字符串。

## 逗号运算符

写法：表达式 1, 表达式 2

依次运行两个表达式，返回表达式 2

逗号运算符的优先级比赋值更低
